<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Prediction Panel</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;900&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;background:#0a0f18;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#e6edf3}
iframe#mainFrame{position:absolute;inset:0;width:100%;height:100%;border:0;z-index:0}
.fab{position:fixed;bottom:18px;right:18px;width:46px;height:46px;border-radius:50%;background:#facc15;color:#000;font-size:22px;font-weight:900;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 20px rgba(250,204,21,.3);cursor:grab;z-index:1001;user-select:none;touch-action:none;transition:.2s}
.overlay{position:fixed;inset:0;display:none;align-items:flex-end;justify-content:center;background:rgba(0,0,0,.6);z-index:1000;padding:12px}
.dialog{width:100%;max-width:380px;background:#101827;border-radius:18px;color:#e6edf3;box-shadow:0 18px 60px rgba(0,0,0,.7);position:relative;overflow:hidden;padding-bottom:20px;}
.dialog-head{padding:14px;text-align:center;font-size:15px;font-weight:900;background:linear-gradient(90deg,#2563eb,#9333ea);color:#fff}
.top-cancel{position:absolute;right:10px;top:10px;background:transparent;border:none;color:#fff;font-size:18px;cursor:pointer}
.period{font-size:13px;color:#e2e8f0;display:flex;justify-content:space-between;align-items:center;margin:12px}
.timer{font-weight:900;color:#fde047}
.result{margin:12px;border-radius:16px;padding:22px;min-height:90px;text-align:center;font-size:26px;font-weight:900;transition:.3s;position:relative;overflow:hidden}
.result.big{background:linear-gradient(135deg,#ff512f,#f09819);color:#fff;box-shadow:0 0 20px rgba(240,152,25,.4)}
.result.small{background:linear-gradient(135deg,#00b09b,#96c93d);color:#fff;box-shadow:0 0 20px rgba(0,176,155,.4)}
.result.pred{background:linear-gradient(135deg,#374151,#1f2937);color:#fef3c7;font-style:italic}
.stats{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin:12px}
.stat{background:rgba(255,255,255,.03);border-radius:10px;padding:10px;text-align:center}
.stat .label{font-size:11px;color:#cbd5e1}
.stat .val{margin-top:4px;font-weight:900;font-size:13px}
#onlineUsers{color:#ef4444}
#winnerText{color:#22c55e;font-size:12px}
.live-tag{margin-top:10px;display:inline-flex;align-items:center;gap:6px;background:linear-gradient(90deg,#dc2626,#ef4444);padding:4px 10px;border-radius:14px;font-size:12px;font-weight:900;color:#fff}
.blink-dot{width:8px;height:8px;border-radius:50%;background:#fff;animation:blink 1s infinite}
@keyframes blink{0%{opacity:1}50%{opacity:.15}100%{opacity:1}}
.toggle-box{margin:12px;display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.03);padding:8px 12px;border-radius:10px}
.toggle{width:46px;height:24px;border-radius:999px;background:#151622;position:relative;cursor:pointer;transition:.25s;padding:4px}
.knob{width:16px;height:16px;background:#facc15;border-radius:50%;position:absolute;top:4px;left:4px;transition:.25s}
.toggle.on{background:#10b981}
.toggle.on .knob{left:26px;background:#fff}
.actions{display:flex;gap:10px;margin:16px}
.actions button{flex:1;padding:12px 0;border:2px solid #fff;border-radius:10px;font-size:14px;font-weight:800;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:.2s}
.predict{background:#ef4444;color:#fff}
.buy{background:#16a34a;color:#fff}
.actions button:hover{opacity:.9;transform:scale(.97)}
.toast{position:fixed;bottom:78px;left:50%;transform:translateX(-50%) translateY(30px);background:#facc15;color:#000;padding:6px 12px;border-radius:6px;font-weight:700;opacity:0;transition:.3s;box-shadow:0 4px 12px rgba(250,204,21,.5);z-index:1002;font-size:12px}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.dynamic-island{
  position:absolute;
  top:12px; left:50%; transform:translateX(-50%) translateX(-200px);
  background:#000; border:2px solid #22c55e; color:#fff;
  font-weight:700; font-size:13px;
  border-radius:999px; padding:6px 16px;
  display:flex; align-items:center; gap:6px; opacity:0;
  transition:transform 0.6s cubic-bezier(.25,.8,.25,1), opacity 0.6s;
  white-space:nowrap; z-index:1000;
}
.dynamic-island.show{
  opacity:1; transform:translateX(-50%) translateX(0);
}
.dynamic-island i{
  color:#22c55e; font-style:normal;
}
</style>
</head>
<body>
<iframe id="mainFrame" src="https://www.goagames.social/#/register?invitationCode=181357898419"></iframe>

<button class="fab" id="fab">‚òÖ</button>

<div class="overlay" id="overlay">
  <div class="dialog" id="dialog">
    <button class="top-cancel" id="topCancelBtn">‚úï</button>
    <div class="dialog-head">Apkmodderkings</div>

    <div class="period">
      <span id="periodNumber">Period: ‚Äî</span>
      <span class="timer">Next <span id="timerText">00:00</span></span>
    </div>

    <div id="resultText" class="result small">
      <div id="bigSmallLabel">‚Äî</div>
      <div class="live-tag"><span class="blink-dot"></span> LIVE</div>
    </div>

    <div class="stats">
      <div class="stat"><div class="label">Online</div><div class="val" id="onlineUsers">‚Äî</div></div>
      <div class="stat"><div class="label">Winner</div><div class="val" id="winnerText">‚Äî</div></div>
    </div>

    <div class="toggle-box">
      <div id="connectLabel">Disconnected</div>
      <div id="toggle" class="toggle"><div class="knob"></div></div>
    </div>

    <div class="actions">
      <button class="predict" id="predictBtn">‚ñ∂ Watch Now</button>
      <button class="buy" id="buyBtn">Buy Paid</button>
    </div>

    <div class="dynamic-island" id="dynamicIsland"><i>üèÜ</i> <span id="dynamicText"></span></div>

  </div>
</div>

<div id="toast" class="toast">Connected</div>

<script>
const overlay=document.getElementById('overlay');
const fab=document.getElementById('fab');
const topCancelBtn=document.getElementById('topCancelBtn');
const periodNumberEl=document.getElementById('periodNumber');
const timerText=document.getElementById('timerText');
const resultText=document.getElementById('resultText');
const bigSmallLabel=document.getElementById('bigSmallLabel');
const onlineUsers=document.getElementById('onlineUsers');
const winnerText=document.getElementById('winnerText');
const predictBtn=document.getElementById('predictBtn');
const buyBtn=document.getElementById('buyBtn');
const toast=document.getElementById('toast');
const toggle=document.getElementById('toggle');
const connectLabel=document.getElementById('connectLabel');
const dynamicIsland=document.getElementById('dynamicIsland');
const dynamicText=document.getElementById('dynamicText');

/* FAB drag */
let drag={active:false,dx:0,dy:0};
fab.onpointerdown=e=>{drag.active=true;fab.setPointerCapture(e.pointerId);drag.dx=e.clientX-fab.offsetLeft;drag.dy=e.clientY-fab.offsetTop};
document.onpointermove=e=>{if(!drag.active)return;fab.style.left=(e.clientX-drag.dx)+"px";fab.style.top=(e.clientY-drag.dy)+"px";fab.style.right="auto";fab.style.bottom="auto"};
document.onpointerup=()=>drag.active=false;

/* FAB open */
fab.onclick=()=>{overlay.style.display="flex";toastShow("Panel Opened")};
topCancelBtn.onclick=()=>overlay.style.display="none";
predictBtn.onclick=()=>window.open("https://opener.one/yt/sxnwqh","_blank");
buyBtn.onclick=()=>window.open("https://telegram.me/ZebDex","_blank");

/* Toast */
function toastShow(msg){toast.textContent=msg;toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1400)}

/* Server toggle */
let serverOn=false;
toggle.onclick=()=>{
  serverOn=toggle.classList.toggle("on");
  connectLabel.textContent=serverOn?"Connected":"Disconnected";
  if(navigator.vibrate) navigator.vibrate(100);
  let msg=serverOn?"Server connected":"Server disconnected";
  toastShow(msg);
  let u=new SpeechSynthesisUtterance(msg); u.lang='en-IN'; speechSynthesis.cancel(); speechSynthesis.speak(u);
}

/* Period + BIG/SMALL */
function updatePeriodAndTimer(){
  let now=new Date();
  let y=now.getUTCFullYear();
  let m=String(now.getUTCMonth()+1).padStart(2,'0');
  let d=String(now.getUTCDate()).padStart(2,'0');
  let h=now.getUTCHours();
  let min=now.getUTCMinutes();
  let total=h*60+min;
  let period=`${y}${m}${d}1000${10001+total}`;
  periodNumberEl.textContent=`Period: ${period}`;
  let sec=now.getUTCSeconds();
  let remain=60-sec;
  timerText.textContent=`00:${String(remain).padStart(2,'0')}`;
  let last2=period.slice(-2);
  let sum=[...last2].reduce((a,b)=>a+ +b,0);
  if(sum>9) sum=[...String(sum)].reduce((a,b)=>a+ +b,0);
  let res=sum>=5?"BIG":"SMALL";
  resultText.classList.remove("big","small","pred");
  if(serverOn){
    if(remain<=5 && remain>0){
      resultText.classList.add("pred");
      bigSmallLabel.textContent=remain;
    }else if(remain>=55 && remain<=59){
      resultText.classList.add("pred");
      bigSmallLabel.textContent="calculating...";
    }else{
      resultText.classList.add(res.toLowerCase());
      bigSmallLabel.textContent=res;
    }
  }else{ bigSmallLabel.textContent="‚Äî"; }
}
setInterval(updatePeriodAndTimer,1000);updatePeriodAndTimer();

/* Online users */
function updateOnline(){onlineUsers.textContent=180+Math.floor(Math.random()*21)}
setInterval(updateOnline,3000);updateOnline();

/* Winner & Dynamic Island */
let lastUID=null;
function even7(){let n=Math.floor(Math.random()*9000000)+1000000;if(n%2!==0)n++;return n.toString()}
function evenAmount(){let r=Math.random(),amt;if(r<0.05)amt=40000+2*Math.floor(Math.random()*10001);else if(r<0.15)amt=10+2*Math.floor(Math.random()*21);else amt=1000+2*Math.floor(Math.random()*2501);return amt}
function formatINR(n){return "‚Çπ"+n.toLocaleString("en-IN")}

function showDynamicIsland(uid,amt){
  dynamicText.textContent=`${uid} has won again ${formatINR(amt)}`;
  dynamicIsland.classList.add("show");
  if(navigator.vibrate) navigator.vibrate(100);
}

function hideDynamicIsland(){
  dynamicIsland.classList.remove("show");
}

function updateWinner(){
  let uid=(Math.random()<0.2 && lastUID)?lastUID:even7();
  let amt=evenAmount();
  if(uid===lastUID){
    winnerText.textContent=`${uid} won again ${formatINR(amt)}`;
    showDynamicIsland(uid,amt);
  }else{
    winnerText.textContent=`${uid} won ${formatINR(amt)}`;
    hideDynamicIsland();
  }
  lastUID=uid;
}
setInterval(updateWinner,3000);updateWinner();
</script>
</body>
</html>
