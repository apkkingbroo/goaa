<script>
document.write(unescape('%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%3Cmeta%20charset%3D%22utf-8%22/%3E%0A%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2Cinitial-scale%3D1%22/%3E%0A%3Ctitle%3EPrediction%20Panel%3C/title%3E%0A%3Clink%20href%3D%22https%3A//fonts.googleapis.com/css2%3Ffamily%3DInter%3Awght@500%3B700%3B900%26display%3Dswap%22%20rel%3D%22stylesheet%22%3E%0A%3Cstyle%3E%0A*%7Bbox-sizing%3Aborder-box%3Bmargin%3A0%3Bpadding%3A0%7D%0Ahtml%2Cbody%7Bheight%3A100%25%3Bbackground%3A%230a0f18%3Bfont-family%3AInter%2Csystem-ui%2CSegoe%20UI%2CRoboto%2CArial%3Bcolor%3A%23e6edf3%7D%0Aiframe%23mainFrame%7Bposition%3Aabsolute%3Binset%3A0%3Bwidth%3A100%25%3Bheight%3A100%25%3Bborder%3A0%3Bz-index%3A0%7D%0A.fab%7Bposition%3Afixed%3Bbottom%3A18px%3Bright%3A18px%3Bwidth%3A46px%3Bheight%3A46px%3Bborder-radius%3A50%25%3Bbackground%3A%23facc15%3Bcolor%3A%23000%3Bfont-size%3A22px%3Bfont-weight%3A900%3Bdisplay%3Aflex%3Balign-items%3Acenter%3Bjustify-content%3Acenter%3Bbox-shadow%3A0%206px%2020px%20rgba%28250%2C204%2C21%2C.3%29%3Bcursor%3Agrab%3Bz-index%3A1001%3Buser-select%3Anone%3Btouch-action%3Anone%3Btransition%3A.2s%7D%0A.overlay%7Bposition%3Afixed%3Binset%3A0%3Bdisplay%3Anone%3Balign-items%3Aflex-end%3Bjustify-content%3Acenter%3Bbackground%3Argba%280%2C0%2C0%2C.6%29%3Bz-index%3A1000%3Bpadding%3A12px%7D%0A.dialog%7Bwidth%3A100%25%3Bmax-width%3A380px%3Bbackground%3A%23101827%3Bborder-radius%3A18px%3Bcolor%3A%23e6edf3%3Bbox-shadow%3A0%2018px%2060px%20rgba%280%2C0%2C0%2C.7%29%3Bposition%3Arelative%3Boverflow%3Ahidden%3Bpadding-bottom%3A20px%3B%7D%0A.dialog-head%7Bpadding%3A14px%3Btext-align%3Acenter%3Bfont-size%3A15px%3Bfont-weight%3A900%3Bbackground%3Alinear-gradient%2890deg%2C%232563eb%2C%239333ea%29%3Bcolor%3A%23fff%7D%0A.top-cancel%7Bposition%3Aabsolute%3Bright%3A10px%3Btop%3A10px%3Bbackground%3Atransparent%3Bborder%3Anone%3Bcolor%3A%23fff%3Bfont-size%3A18px%3Bcursor%3Apointer%7D%0A.period%7Bfont-size%3A13px%3Bcolor%3A%23e2e8f0%3Bdisplay%3Aflex%3Bjustify-content%3Aspace-between%3Balign-items%3Acenter%3Bmargin%3A12px%7D%0A.timer%7Bfont-weight%3A900%3Bcolor%3A%23fde047%7D%0A.result%7Bmargin%3A12px%3Bborder-radius%3A16px%3Bpadding%3A22px%3Bmin-height%3A90px%3Btext-align%3Acenter%3Bfont-size%3A26px%3Bfont-weight%3A900%3Btransition%3A.3s%3Bposition%3Arelative%3Boverflow%3Ahidden%7D%0A.result.big%7Bbackground%3Alinear-gradient%28135deg%2C%23ff512f%2C%23f09819%29%3Bcolor%3A%23fff%3Bbox-shadow%3A0%200%2020px%20rgba%28240%2C152%2C25%2C.4%29%7D%0A.result.small%7Bbackground%3Alinear-gradient%28135deg%2C%2300b09b%2C%2396c93d%29%3Bcolor%3A%23fff%3Bbox-shadow%3A0%200%2020px%20rgba%280%2C176%2C155%2C.4%29%7D%0A.result.pred%7Bbackground%3Alinear-gradient%28135deg%2C%23374151%2C%231f2937%29%3Bcolor%3A%23fef3c7%3Bfont-style%3Aitalic%7D%0A.stats%7Bdisplay%3Agrid%3Bgrid-template-columns%3A1fr%201fr%3Bgap%3A10px%3Bmargin%3A12px%7D%0A.stat%7Bbackground%3Argba%28255%2C255%2C255%2C.03%29%3Bborder-radius%3A10px%3Bpadding%3A10px%3Btext-align%3Acenter%7D%0A.stat%20.label%7Bfont-size%3A11px%3Bcolor%3A%23cbd5e1%7D%0A.stat%20.val%7Bmargin-top%3A4px%3Bfont-weight%3A900%3Bfont-size%3A13px%7D%0A%23onlineUsers%7Bcolor%3A%23ef4444%7D%0A%23winnerText%7Bcolor%3A%2322c55e%3Bfont-size%3A12px%7D%0A.live-tag%7Bmargin-top%3A10px%3Bdisplay%3Ainline-flex%3Balign-items%3Acenter%3Bgap%3A6px%3Bbackground%3Alinear-gradient%2890deg%2C%23dc2626%2C%23ef4444%29%3Bpadding%3A4px%2010px%3Bborder-radius%3A14px%3Bfont-size%3A12px%3Bfont-weight%3A900%3Bcolor%3A%23fff%7D%0A.blink-dot%7Bwidth%3A8px%3Bheight%3A8px%3Bborder-radius%3A50%25%3Bbackground%3A%23fff%3Banimation%3Ablink%201s%20infinite%7D%0A@keyframes%20blink%7B0%25%7Bopacity%3A1%7D50%25%7Bopacity%3A.15%7D100%25%7Bopacity%3A1%7D%7D%0A.toggle-box%7Bmargin%3A12px%3Bdisplay%3Aflex%3Balign-items%3Acenter%3Bjustify-content%3Aspace-between%3Bbackground%3Argba%28255%2C255%2C255%2C.03%29%3Bpadding%3A8px%2012px%3Bborder-radius%3A10px%7D%0A.toggle%7Bwidth%3A46px%3Bheight%3A24px%3Bborder-radius%3A999px%3Bbackground%3A%23151622%3Bposition%3Arelative%3Bcursor%3Apointer%3Btransition%3A.25s%3Bpadding%3A4px%7D%0A.knob%7Bwidth%3A16px%3Bheight%3A16px%3Bbackground%3A%23facc15%3Bborder-radius%3A50%25%3Bposition%3Aabsolute%3Btop%3A4px%3Bleft%3A4px%3Btransition%3A.25s%7D%0A.toggle.on%7Bbackground%3A%2310b981%7D%0A.toggle.on%20.knob%7Bleft%3A26px%3Bbackground%3A%23fff%7D%0A.actions%7Bdisplay%3Aflex%3Bgap%3A10px%3Bmargin%3A16px%7D%0A.actions%20button%7Bflex%3A1%3Bpadding%3A12px%200%3Bborder%3A2px%20solid%20%23fff%3Bborder-radius%3A10px%3Bfont-size%3A14px%3Bfont-weight%3A800%3Bcursor%3Apointer%3Bdisplay%3Aflex%3Balign-items%3Acenter%3Bjustify-content%3Acenter%3Bgap%3A8px%3Btransition%3A.2s%7D%0A.predict%7Bbackground%3A%23ef4444%3Bcolor%3A%23fff%7D%0A.buy%7Bbackground%3A%2316a34a%3Bcolor%3A%23fff%7D%0A.actions%20button%3Ahover%7Bopacity%3A.9%3Btransform%3Ascale%28.97%29%7D%0A.toast%7Bposition%3Afixed%3Bbottom%3A78px%3Bleft%3A50%25%3Btransform%3AtranslateX%28-50%25%29%20translateY%2830px%29%3Bbackground%3A%23facc15%3Bcolor%3A%23000%3Bpadding%3A6px%2012px%3Bborder-radius%3A6px%3Bfont-weight%3A700%3Bopacity%3A0%3Btransition%3A.3s%3Bbox-shadow%3A0%204px%2012px%20rgba%28250%2C204%2C21%2C.5%29%3Bz-index%3A1002%3Bfont-size%3A12px%7D%0A.toast.show%7Bopacity%3A1%3Btransform%3AtranslateX%28-50%25%29%20translateY%280%29%7D%0A.dynamic-island%7B%0A%20%20position%3Aabsolute%3B%0A%20%20top%3A12px%3B%20left%3A50%25%3B%20transform%3AtranslateX%28-50%25%29%20translateX%28-200px%29%3B%0A%20%20background%3A%23000%3B%20border%3A2px%20solid%20%2322c55e%3B%20color%3A%23fff%3B%0A%20%20font-weight%3A700%3B%20font-size%3A13px%3B%0A%20%20border-radius%3A999px%3B%20padding%3A6px%2016px%3B%0A%20%20display%3Aflex%3B%20align-items%3Acenter%3B%20gap%3A6px%3B%20opacity%3A0%3B%0A%20%20transition%3Atransform%200.6s%20cubic-bezier%28.25%2C.8%2C.25%2C1%29%2C%20opacity%200.6s%3B%0A%20%20white-space%3Anowrap%3B%20z-index%3A1000%3B%0A%7D%0A.dynamic-island.show%7B%0A%20%20opacity%3A1%3B%20transform%3AtranslateX%28-50%25%29%20translateX%280%29%3B%0A%7D%0A.dynamic-island%20i%7B%0A%20%20color%3A%2322c55e%3B%20font-style%3Anormal%3B%0A%7D%0A%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%3Ciframe%20id%3D%22mainFrame%22%20src%3D%22https%3A//www.goagames.social/%23/register%3FinvitationCode%3D181357898419%22%3E%3C/iframe%3E%0A%0A%3Cbutton%20class%3D%22fab%22%20id%3D%22fab%22%3E%u2605%3C/button%3E%0A%0A%3Cdiv%20class%3D%22overlay%22%20id%3D%22overlay%22%3E%0A%20%20%3Cdiv%20class%3D%22dialog%22%20id%3D%22dialog%22%3E%0A%20%20%20%20%3Cbutton%20class%3D%22top-cancel%22%20id%3D%22topCancelBtn%22%3E%u2715%3C/button%3E%0A%20%20%20%20%3Cdiv%20class%3D%22dialog-head%22%3ETG%3A%20Apkmodderkings%20%28%20FREE%20MOD%20%29%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22period%22%3E%0A%20%20%20%20%20%20%3Cspan%20id%3D%22periodNumber%22%3EPeriod%3A%20%u2014%3C/span%3E%0A%20%20%20%20%20%20%3Cspan%20class%3D%22timer%22%3ENext%20%3Cspan%20id%3D%22timerText%22%3E00%3A00%3C/span%3E%3C/span%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20id%3D%22resultText%22%20class%3D%22result%20small%22%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22bigSmallLabel%22%3E%u2014%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22live-tag%22%3E%3Cspan%20class%3D%22blink-dot%22%3E%3C/span%3E%20LIVE%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22stats%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22stat%22%3E%3Cdiv%20class%3D%22label%22%3EOnline%3C/div%3E%3Cdiv%20class%3D%22val%22%20id%3D%22onlineUsers%22%3E%u2014%3C/div%3E%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22stat%22%3E%3Cdiv%20class%3D%22label%22%3EWinner%3C/div%3E%3Cdiv%20class%3D%22val%22%20id%3D%22winnerText%22%3E%u2014%3C/div%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22toggle-box%22%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22connectLabel%22%3EDisconnected%3C/div%3E%0A%20%20%20%20%20%20%3Cdiv%20id%3D%22toggle%22%20class%3D%22toggle%22%3E%3Cdiv%20class%3D%22knob%22%3E%3C/div%3E%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22actions%22%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22predict%22%20id%3D%22predictBtn%22%3E%u25B6%20Watch%20Now%3C/button%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22buy%22%20id%3D%22buyBtn%22%3EBuy%20Paid%3C/button%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22dynamic-island%22%20id%3D%22dynamicIsland%22%3E%3Ci%3E%uD83C%uDFC6%3C/i%3E%20%3Cspan%20id%3D%22dynamicText%22%3E%3C/span%3E%3C/div%3E%0A%0A%20%20%3C/div%3E%0A%3C/div%3E%0A%0A%3Cdiv%20id%3D%22toast%22%20class%3D%22toast%22%3EConnected%3C/div%3E%0A%0A%3Cscript%3E%0Aconst%20overlay%3Ddocument.getElementById%28%27overlay%27%29%3B%0Aconst%20fab%3Ddocument.getElementById%28%27fab%27%29%3B%0Aconst%20topCancelBtn%3Ddocument.getElementById%28%27topCancelBtn%27%29%3B%0Aconst%20periodNumberEl%3Ddocument.getElementById%28%27periodNumber%27%29%3B%0Aconst%20timerText%3Ddocument.getElementById%28%27timerText%27%29%3B%0Aconst%20resultText%3Ddocument.getElementById%28%27resultText%27%29%3B%0Aconst%20bigSmallLabel%3Ddocument.getElementById%28%27bigSmallLabel%27%29%3B%0Aconst%20onlineUsers%3Ddocument.getElementById%28%27onlineUsers%27%29%3B%0Aconst%20winnerText%3Ddocument.getElementById%28%27winnerText%27%29%3B%0Aconst%20predictBtn%3Ddocument.getElementById%28%27predictBtn%27%29%3B%0Aconst%20buyBtn%3Ddocument.getElementById%28%27buyBtn%27%29%3B%0Aconst%20toast%3Ddocument.getElementById%28%27toast%27%29%3B%0Aconst%20toggle%3Ddocument.getElementById%28%27toggle%27%29%3B%0Aconst%20connectLabel%3Ddocument.getElementById%28%27connectLabel%27%29%3B%0Aconst%20dynamicIsland%3Ddocument.getElementById%28%27dynamicIsland%27%29%3B%0Aconst%20dynamicText%3Ddocument.getElementById%28%27dynamicText%27%29%3B%0A%0A/*%20FAB%20drag%20*/%0Alet%20drag%3D%7Bactive%3Afalse%2Cdx%3A0%2Cdy%3A0%7D%3B%0Afab.onpointerdown%3De%3D%3E%7Bdrag.active%3Dtrue%3Bfab.setPointerCapture%28e.pointerId%29%3Bdrag.dx%3De.clientX-fab.offsetLeft%3Bdrag.dy%3De.clientY-fab.offsetTop%7D%3B%0Adocument.onpointermove%3De%3D%3E%7Bif%28%21drag.active%29return%3Bfab.style.left%3D%28e.clientX-drag.dx%29+%22px%22%3Bfab.style.top%3D%28e.clientY-drag.dy%29+%22px%22%3Bfab.style.right%3D%22auto%22%3Bfab.style.bottom%3D%22auto%22%7D%3B%0Adocument.onpointerup%3D%28%29%3D%3Edrag.active%3Dfalse%3B%0A%0A/*%20FAB%20open%20*/%0Afab.onclick%3D%28%29%3D%3E%7Boverlay.style.display%3D%22flex%22%3BtoastShow%28%22Panel%20Opened%22%29%7D%3B%0AtopCancelBtn.onclick%3D%28%29%3D%3Eoverlay.style.display%3D%22none%22%3B%0ApredictBtn.onclick%3D%28%29%3D%3Ewindow.open%28%22https%3A//opener.one/yt/sxnwqh%22%2C%22_blank%22%29%3B%0AbuyBtn.onclick%3D%28%29%3D%3Ewindow.open%28%22https%3A//telegram.me/ZebDex%22%2C%22_blank%22%29%3B%0A%0A/*%20Toast%20*/%0Afunction%20toastShow%28msg%29%7Btoast.textContent%3Dmsg%3Btoast.classList.add%28%27show%27%29%3BsetTimeout%28%28%29%3D%3Etoast.classList.remove%28%27show%27%29%2C1400%29%7D%0A%0A/*%20Server%20toggle%20*/%0Alet%20serverOn%3Dfalse%3B%0Atoggle.onclick%3D%28%29%3D%3E%7B%0A%20%20serverOn%3Dtoggle.classList.toggle%28%22on%22%29%3B%0A%20%20connectLabel.textContent%3DserverOn%3F%22Connected%22%3A%22Disconnected%22%3B%0A%20%20if%28navigator.vibrate%29%20navigator.vibrate%28100%29%3B%0A%20%20let%20msg%3DserverOn%3F%22Server%20connected%22%3A%22Server%20disconnected%22%3B%0A%20%20toastShow%28msg%29%3B%0A%20%20let%20u%3Dnew%20SpeechSynthesisUtterance%28msg%29%3B%20u.lang%3D%27en-IN%27%3B%20speechSynthesis.cancel%28%29%3B%20speechSynthesis.speak%28u%29%3B%0A%7D%0A%0A/*%20Period%20+%20BIG/SMALL%20*/%0Afunction%20updatePeriodAndTimer%28%29%7B%0A%20%20let%20now%3Dnew%20Date%28%29%3B%0A%20%20let%20y%3Dnow.getUTCFullYear%28%29%3B%0A%20%20let%20m%3DString%28now.getUTCMonth%28%29+1%29.padStart%282%2C%270%27%29%3B%0A%20%20let%20d%3DString%28now.getUTCDate%28%29%29.padStart%282%2C%270%27%29%3B%0A%20%20let%20h%3Dnow.getUTCHours%28%29%3B%0A%20%20let%20min%3Dnow.getUTCMinutes%28%29%3B%0A%20%20let%20total%3Dh*60+min%3B%0A%20%20let%20period%3D%60%24%7By%7D%24%7Bm%7D%24%7Bd%7D1000%24%7B10001+total%7D%60%3B%0A%20%20periodNumberEl.textContent%3D%60Period%3A%20%24%7Bperiod%7D%60%3B%0A%20%20let%20sec%3Dnow.getUTCSeconds%28%29%3B%0A%20%20let%20remain%3D60-sec%3B%0A%20%20timerText.textContent%3D%6000%3A%24%7BString%28remain%29.padStart%282%2C%270%27%29%7D%60%3B%0A%20%20let%20last2%3Dperiod.slice%28-2%29%3B%0A%20%20let%20sum%3D%5B...last2%5D.reduce%28%28a%2Cb%29%3D%3Ea+%20+b%2C0%29%3B%0A%20%20if%28sum%3E9%29%20sum%3D%5B...String%28sum%29%5D.reduce%28%28a%2Cb%29%3D%3Ea+%20+b%2C0%29%3B%0A%20%20let%20res%3Dsum%3E%3D5%3F%22BIG%22%3A%22SMALL%22%3B%0A%20%20resultText.classList.remove%28%22big%22%2C%22small%22%2C%22pred%22%29%3B%0A%20%20if%28serverOn%29%7B%0A%20%20%20%20if%28remain%3C%3D5%20%26%26%20remain%3E0%29%7B%0A%20%20%20%20%20%20resultText.classList.add%28%22pred%22%29%3B%0A%20%20%20%20%20%20bigSmallLabel.textContent%3Dremain%3B%0A%20%20%20%20%7Delse%20if%28remain%3E%3D55%20%26%26%20remain%3C%3D59%29%7B%0A%20%20%20%20%20%20resultText.classList.add%28%22pred%22%29%3B%0A%20%20%20%20%20%20bigSmallLabel.textContent%3D%22calculating...%22%3B%0A%20%20%20%20%7Delse%7B%0A%20%20%20%20%20%20resultText.classList.add%28res.toLowerCase%28%29%29%3B%0A%20%20%20%20%20%20bigSmallLabel.textContent%3Dres%3B%0A%20%20%20%20%7D%0A%20%20%7Delse%7B%20bigSmallLabel.textContent%3D%22%u2014%22%3B%20%7D%0A%7D%0AsetInterval%28updatePeriodAndTimer%2C1000%29%3BupdatePeriodAndTimer%28%29%3B%0A%0A/*%20Online%20users%20*/%0Afunction%20updateOnline%28%29%7BonlineUsers.textContent%3D180+Math.floor%28Math.random%28%29*21%29%7D%0AsetInterval%28updateOnline%2C3000%29%3BupdateOnline%28%29%3B%0A%0A/*%20Winner%20%26%20Dynamic%20Island%20*/%0Alet%20lastUID%3Dnull%3B%0Afunction%20even7%28%29%7Blet%20n%3DMath.floor%28Math.random%28%29*9000000%29+1000000%3Bif%28n%252%21%3D%3D0%29n++%3Breturn%20n.toString%28%29%7D%0Afunction%20evenAmount%28%29%7Blet%20r%3DMath.random%28%29%2Camt%3Bif%28r%3C0.05%29amt%3D40000+2*Math.floor%28Math.random%28%29*10001%29%3Belse%20if%28r%3C0.15%29amt%3D10+2*Math.floor%28Math.random%28%29*21%29%3Belse%20amt%3D1000+2*Math.floor%28Math.random%28%29*2501%29%3Breturn%20amt%7D%0Afunction%20formatINR%28n%29%7Breturn%20%22%u20B9%22+n.toLocaleString%28%22en-IN%22%29%7D%0A%0Afunction%20showDynamicIsland%28uid%2Camt%29%7B%0A%20%20dynamicText.textContent%3D%60%24%7Buid%7D%20has%20won%20again%20%24%7BformatINR%28amt%29%7D%60%3B%0A%20%20dynamicIsland.classList.add%28%22show%22%29%3B%0A%20%20if%28navigator.vibrate%29%20navigator.vibrate%28100%29%3B%0A%7D%0A%0Afunction%20hideDynamicIsland%28%29%7B%0A%20%20dynamicIsland.classList.remove%28%22show%22%29%3B%0A%7D%0A%0Afunction%20updateWinner%28%29%7B%0A%20%20let%20uid%3D%28Math.random%28%29%3C0.2%20%26%26%20lastUID%29%3FlastUID%3Aeven7%28%29%3B%0A%20%20let%20amt%3DevenAmount%28%29%3B%0A%20%20if%28uid%3D%3D%3DlastUID%29%7B%0A%20%20%20%20winnerText.textContent%3D%60%24%7Buid%7D%20won%20again%20%24%7BformatINR%28amt%29%7D%60%3B%0A%20%20%20%20showDynamicIsland%28uid%2Camt%29%3B%0A%20%20%7Delse%7B%0A%20%20%20%20winnerText.textContent%3D%60%24%7Buid%7D%20won%20%24%7BformatINR%28amt%29%7D%60%3B%0A%20%20%20%20hideDynamicIsland%28%29%3B%0A%20%20%7D%0A%20%20lastUID%3Duid%3B%0A%7D%0AsetInterval%28updateWinner%2C3000%29%3BupdateWinner%28%29%3B%0A%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E'));
</script>
const resultText=document.getElementById('resultText');
const bigSmallLabel=document.getElementById('bigSmallLabel');
const onlineUsers=document.getElementById('onlineUsers');
const winnerText=document.getElementById('winnerText');
const predictBtn=document.getElementById('predictBtn');
const buyBtn=document.getElementById('buyBtn');
const toast=document.getElementById('toast');
const toggle=document.getElementById('toggle');
const connectLabel=document.getElementById('connectLabel');
const dynamicIsland=document.getElementById('dynamicIsland');
const dynamicText=document.getElementById('dynamicText');

/* FAB drag */
let drag={active:false,dx:0,dy:0};
fab.onpointerdown=e=>{drag.active=true;fab.setPointerCapture(e.pointerId);drag.dx=e.clientX-fab.offsetLeft;drag.dy=e.clientY-fab.offsetTop};
document.onpointermove=e=>{if(!drag.active)return;fab.style.left=(e.clientX-drag.dx)+"px";fab.style.top=(e.clientY-drag.dy)+"px";fab.style.right="auto";fab.style.bottom="auto"};
document.onpointerup=()=>drag.active=false;

/* FAB open */
fab.onclick=()=>{overlay.style.display="flex";toastShow("Panel Opened")};
topCancelBtn.onclick=()=>overlay.style.display="none";
predictBtn.onclick=()=>window.open("https://opener.one/yt/sxnwqh","_blank");
buyBtn.onclick=()=>window.open("https://telegram.me/ZebDex","_blank");

/* Toast */
function toastShow(msg){toast.textContent=msg;toast.classList.add('show');setTimeout(()=>toast.classList.remove('show'),1400)}

/* Server toggle */
let serverOn=false;
toggle.onclick=()=>{
  serverOn=toggle.classList.toggle("on");
  connectLabel.textContent=serverOn?"Connected":"Disconnected";
  if(navigator.vibrate) navigator.vibrate(100);
  let msg=serverOn?"Server connected":"Server disconnected";
  toastShow(msg);
  let u=new SpeechSynthesisUtterance(msg); u.lang='en-IN'; speechSynthesis.cancel(); speechSynthesis.speak(u);
}

/* Period + BIG/SMALL */
function updatePeriodAndTimer(){
  let now=new Date();
  let y=now.getUTCFullYear();
  let m=String(now.getUTCMonth()+1).padStart(2,'0');
  let d=String(now.getUTCDate()).padStart(2,'0');
  let h=now.getUTCHours();
  let min=now.getUTCMinutes();
  let total=h*60+min;
  let period=`${y}${m}${d}1000${10001+total}`;
  periodNumberEl.textContent=`Period: ${period}`;
  let sec=now.getUTCSeconds();
  let remain=60-sec;
  timerText.textContent=`00:${String(remain).padStart(2,'0')}`;
  let last2=period.slice(-2);
  let sum=[...last2].reduce((a,b)=>a+ +b,0);
  if(sum>9) sum=[...String(sum)].reduce((a,b)=>a+ +b,0);
  let res=sum>=5?"BIG":"SMALL";
  resultText.classList.remove("big","small","pred");
  if(serverOn){
    if(remain<=5 && remain>0){
      resultText.classList.add("pred");
      bigSmallLabel.textContent=remain;
    }else if(remain>=55 && remain<=59){
      resultText.classList.add("pred");
      bigSmallLabel.textContent="calculating...";
    }else{
      resultText.classList.add(res.toLowerCase());
      bigSmallLabel.textContent=res;
    }
  }else{ bigSmallLabel.textContent="—"; }
}
setInterval(updatePeriodAndTimer,1000);updatePeriodAndTimer();

/* Online users */
function updateOnline(){onlineUsers.textContent=180+Math.floor(Math.random()*21)}
setInterval(updateOnline,3000);updateOnline();

/* Winner & Dynamic Island */
let lastUID=null;
function even7(){let n=Math.floor(Math.random()*9000000)+1000000;if(n%2!==0)n++;return n.toString()}
function evenAmount(){let r=Math.random(),amt;if(r<0.05)amt=40000+2*Math.floor(Math.random()*10001);else if(r<0.15)amt=10+2*Math.floor(Math.random()*21);else amt=1000+2*Math.floor(Math.random()*2501);return amt}
function formatINR(n){return "₹"+n.toLocaleString("en-IN")}

function showDynamicIsland(uid,amt){
  dynamicText.textContent=`${uid} has won again ${formatINR(amt)}`;
  dynamicIsland.classList.add("show");
  if(navigator.vibrate) navigator.vibrate(100);
}

function hideDynamicIsland(){
  dynamicIsland.classList.remove("show");
}

function updateWinner(){
  let uid=(Math.random()<0.2 && lastUID)?lastUID:even7();
  let amt=evenAmount();
  if(uid===lastUID){
    winnerText.textContent=`${uid} won again ${formatINR(amt)}`;
    showDynamicIsland(uid,amt);
  }else{
    winnerText.textContent=`${uid} won ${formatINR(amt)}`;
    hideDynamicIsland();
  }
  lastUID=uid;
}
setInterval(updateWinner,3000);updateWinner();
</script>
</body>
</html>
